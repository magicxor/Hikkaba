@using Hikkaba.Web.ViewModels
@using Hikkaba.Web.ViewModels.BansViewModels
@model Hikkaba.Web.ViewModels.BansViewModels.BanIndexViewModel
@{
    ViewData["Title"] = $"Bans";
}

<h2 class="text-center">@ViewData["Title"]</h2>

<hr />

<div class="row">
    <div class="col-md-12">
        @if (Model.Bans is { TotalItemCount: > 0, PageNumber: > 0 })
        {
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>@Html.DisplayNameForInnerType((BanViewModel ban) => ban.CreatedAt)</th>
                        <th>@Html.DisplayNameForInnerType((BanViewModel ban) => ban.CategoryAlias)</th>
                        <th>@Html.DisplayNameForInnerType((BanViewModel ban) => ban.RelatedPostId)</th>
                        <th>@Html.DisplayNameForInnerType((BanViewModel ban) => ban.BannedIpAddress)</th>
                        <th>@Html.DisplayNameForInnerType((BanViewModel ban) => ban.BannedCidrLowerIpAddress)</th>
                        <th>@Html.DisplayNameForInnerType((BanViewModel ban) => ban.BannedCidrUpperIpAddress)</th>
                        <th>@Html.DisplayNameForInnerType((BanViewModel ban) => ban.Reason)</th>
                        <th>@Html.DisplayNameForInnerType((BanViewModel ban) => ban.EndsAt)</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @Html.DisplayFor(model => model.Bans.Data)
                </tbody>
            </table>
            <partial name="_PagerPartial" model="@(new PageInfoViewModel
                                                 {
                                                   CurrentPageNumber = Model.Bans.PageNumber,
                                                   TotalPageCount = Model.Bans.TotalPageCount ?? 0,
                                                 })" />
        }
        else
        {
            <p class="text-center">There are no bans yet.</p>
        }
    </div>
</div>
