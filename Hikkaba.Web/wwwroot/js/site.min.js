(()=>{window.navigationFn={goToSection:function(e){$("html, body").animate({scrollTop:$("#"+e).offset().top},0)}},window.getSelectionText=function getSelectionText(){return window.getSelection?window.getSelection().toString():""},window.writeSelectionLineToInput=function writeSelectionLineToInput(e){const t=document.getElementById(e);if(void 0!==t){getSelectionText()&&(t.value+="[quote]"+getSelectionText()+"[/quote]\n")}},window.writeLineToInput=function writeLineToInput(e,t){const n=document.getElementById(e);void 0!==n&&(n.value+=t+"\n")},window.wrapText=function wrapText(e,t,n){const i=document.getElementById(e);if(void 0!==i.selectionStart){const e=i.value.substring(0,i.selectionStart),o=i.value.substring(i.selectionStart,i.selectionEnd),a=i.value.substring(i.selectionEnd);i.value=e+t+o+n+a}},window.insertTag=function insertTag(e,t){switch(t){case"m-bold":wrapText(e,"[b]","[/b]");break;case"m-italic":wrapText(e,"[i]","[/i]");break;case"m-underline":wrapText(e,"[u]","[/u]");break;case"m-strikeout":wrapText(e,"[s]","[/s]");break;case"m-quote":wrapText(e,"[quote]","[/quote]");break;case"m-spoiler":wrapText(e,"[spoiler]","[/spoiler]");break;case"m-code":wrapText(e,"[code]","[/code]");break;case"m-subscript":wrapText(e,"[sub]","[/sub]");break;case"m-superscript":wrapText(e,"[sup]","[/sup]")}},$((function(){$("time.time-localizable").each((function(){const e=$(this),t=moment(e.attr("datetime"));e.text(t.format("YYYY-MM-DD ddd HH:mm:ss"))}));const e="Message";if($("#"+e).length){const t=$(".post-id-link");t.attr("onclick","return false;"),t.click((function(){const t=$(this);writeLineToInput(e,">>"+t.text(),""),writeSelectionLineToInput(e),navigationFn.goToSection(e)}))}}));const e=new Set,t=document.querySelectorAll(".datetimepicker-utc"),handleSubmit=e=>{const t=e.target;t.querySelectorAll(".datetimepicker-utc").forEach((e=>{const n=e.name;if(!n)return;const i=e.value;if(i){const o=new Date(i);if(isNaN(o.getTime()))console.warn(`JS Warning: Invalid date for field named "${n}". Submitting original value.`);else{const i=o.toISOString(),a=document.createElement("input");a.type="hidden",a.value=i,a.name=n,t.appendChild(a),e.removeAttribute("name"),console.log(`JS Info: Created hidden input named "${a.name}" with UTC value "${i}". Original input "${n}" name removed.`)}}else console.log(`JS Info: Field "${n}" is empty. Submitting as is.`)}))};t.forEach((t=>{const n=t.closest("form");n&&!e.has(n)&&(n.addEventListener("submit",handleSubmit),e.add(n),console.log(`JS Setup: Attached UTC date handler to form#${n.id||"[no id]"}.`))}))})();
//# sourceMappingURL=/js/site.min.js.map